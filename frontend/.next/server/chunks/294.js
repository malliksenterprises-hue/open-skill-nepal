exports.id=294,exports.ids=[294],exports.modules={4202:(e,o,t)=>{Promise.resolve().then(t.bind(t,9960))},8660:(e,o,t)=>{Promise.resolve().then(t.t.bind(t,3724,23)),Promise.resolve().then(t.t.bind(t,5365,23)),Promise.resolve().then(t.t.bind(t,4900,23)),Promise.resolve().then(t.t.bind(t,4714,23)),Promise.resolve().then(t.t.bind(t,5392,23)),Promise.resolve().then(t.t.bind(t,8898,23))},9960:(e,o,t)=>{"use strict";t.r(o),t.d(o,{AuthProvider:()=>AuthProvider,useAuth:()=>useAuth});var r=t(784),n=t(9885);let s=process.env.NEXT_PUBLIC_API_URL?process.env.NEXT_PUBLIC_API_URL:"https://open-skill-nepal-669869115660.asia-south1.run.app/api";async function apiRequest(e,o={}){let t=`${s}${e}`;console.group(`ðŸŒ API Request: ${e}`),console.log("Full URL:",t),console.log("Method:",o.method||"GET"),console.log("Payload:",o.body);let r={method:o.method||"GET",headers:{"Content-Type":"application/json",...o.headers},credentials:"include",signal:AbortSignal.timeout(3e4)};o.body&&"GET"!==r.method&&(r.body=JSON.stringify(o.body));try{let e=await fetch(t,r);console.log("Response Status:",e.status),console.log("Response Headers:",Object.fromEntries(e.headers.entries()));let o=await e.json();if(console.log("Response Data:",o),!e.ok)throw Error(`HTTP ${e.status}: ${o.message||"Request failed"}`);return console.groupEnd(),o}catch(e){if(console.groupEnd(),"AbortError"===e.name)throw Error("Request timeout: Server took too long to respond");if("TypeError"===e.name)throw Error("Network error: Cannot connect to server");throw e}}let l={login:async(e,o)=>{if(!e||!o)throw Error("Email and password are required");return apiRequest("/auth/login",{method:"POST",body:{email:e,password:o}})},googleLogin:e=>{if(!e?.email||!e?.googleId)throw Error("Google authentication data is incomplete");return apiRequest("/auth/google-login",{method:"POST",body:e})},getMe:e=>{if(!e)throw Error("Authentication token is required");return apiRequest("/auth/me",{headers:{Authorization:`Bearer ${e}`}})},logout:e=>apiRequest("/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${e}`}})},a=(0,n.createContext)();function AuthProvider({children:e}){let[o,t]=(0,n.useState)(null),[s,i]=(0,n.useState)(!0),[u,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{checkAuth()},[]);let checkAuth=async()=>{try{let e=localStorage.getItem("openSkillToken");if(e){c(e);let o=await l.getMe(e);t(o)}}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("openSkillToken"),c(null),t(null)}finally{i(!1)}},login=async(e,o)=>{try{console.log("\uD83D\uDD04 AuthContext: Attempting login...");let r=await l.login(e,o);console.log("âœ… AuthContext: Login response:",r);let{token:n,user:s}=r;return localStorage.setItem("openSkillToken",n),c(n),t(s),{success:!0,user:s}}catch(e){return console.error("âŒ AuthContext: Login error:",e),{success:!1,message:e.message||e.data?.message||"Login failed"}}},googleLogin=async e=>{try{console.log("\uD83D\uDD04 AuthContext: Attempting Google login...");let o=await l.googleLogin(e);console.log("âœ… AuthContext: Google login response:",o);let{token:r,user:n}=o;return localStorage.setItem("openSkillToken",r),c(r),t(n),{success:!0,user:n}}catch(e){return console.error("âŒ AuthContext: Google login error:",e),{success:!1,message:e.message||e.data?.message||"Google login failed"}}},logout=async()=>{try{u&&await l.logout(u)}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("openSkillToken"),c(null),t(null)}};return r.jsx(a.Provider,{value:{user:o,token:u,loading:s,login,googleLogin,logout,isAuthenticated:!!o},children:e})}function useAuth(){let e=(0,n.useContext)(a);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9501:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>RootLayout,metadata:()=>u});var r=t(4656),n=t(5153);let s=(0,n.createProxy)(String.raw`/workspaces/open-skill-nepal/frontend/contexts/AuthContext.js`),{__esModule:l,$$typeof:a}=s;s.default;let i=(0,n.createProxy)(String.raw`/workspaces/open-skill-nepal/frontend/contexts/AuthContext.js#AuthProvider`);(0,n.createProxy)(String.raw`/workspaces/open-skill-nepal/frontend/contexts/AuthContext.js#useAuth`),t(7272);let u={title:"Open Skill Nepal",description:"Empowering education through technology"};function RootLayout({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:r.jsx(i,{children:e})})})}},7272:()=>{}};