exports.id=294,exports.ids=[294],exports.modules={4202:(e,t,r)=>{Promise.resolve().then(r.bind(r,9960))},8660:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3724,23)),Promise.resolve().then(r.t.bind(r,5365,23)),Promise.resolve().then(r.t.bind(r,4900,23)),Promise.resolve().then(r.t.bind(r,4714,23)),Promise.resolve().then(r.t.bind(r,5392,23)),Promise.resolve().then(r.t.bind(r,8898,23))},9960:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthProvider:()=>AuthProvider,default:()=>i,useAuth:()=>useAuth});var o=r(784),s=r(9885);let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8080",apiRequest=async(e,t={})=>{let r=`${a}${e}`,o={headers:{"Content-Type":"application/json",...t.headers},...t};t.body&&(o.body=JSON.stringify(t.body));try{let e=await fetch(r,o);if(!e.ok){let t=await e.text();throw Error(`HTTP ${e.status}: ${t||e.statusText}`)}return await e.json()}catch(t){throw console.error(`API Request Failed [${e}]:`,t),t}},n={login:e=>apiRequest("/api/auth/login",{method:"POST",body:e}),register:e=>apiRequest("/api/auth/register",{method:"POST",body:e})},l=(0,s.createContext)(),useAuth=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},AuthProvider=({children:e})=>{let[t,r]=(0,s.useState)(null),[a,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{r(JSON.parse(t))}catch(e){console.error("Error parsing user data:",e),localStorage.removeItem("user"),localStorage.removeItem("token")}i(!1)},[]);let login=async(e,t)=>{try{i(!0);let o=await n.login({email:e,password:t});if(!o.success)return{success:!1,error:o.message};{let{token:e,user:t}=o.data;return localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),r(t),{success:!0,user:t}}}catch(e){return console.error("Login error:",e),{success:!1,error:e.message}}finally{i(!1)}},register=async e=>{try{i(!0);let t=await n.register(e);if(!t.success)return{success:!1,error:t.message};{let{token:e,user:o}=t.data;return localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(o)),r(o),{success:!0,user:o}}}catch(e){return console.error("Registration error:",e),{success:!1,error:e.message}}finally{i(!1)}};return o.jsx(l.Provider,{value:{user:t,loading:a,login,register,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)},isAuthenticated:!!t},children:e})},i=l},9501:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>RootLayout,metadata:()=>u});var o=r(4656),s=r(5153);let a=(0,s.createProxy)(String.raw`/workspaces/open-skill-nepal/frontend/contexts/AuthContext.js`),{__esModule:n,$$typeof:l}=a;a.default,(0,s.createProxy)(String.raw`/workspaces/open-skill-nepal/frontend/contexts/AuthContext.js#useAuth`);let i=(0,s.createProxy)(String.raw`/workspaces/open-skill-nepal/frontend/contexts/AuthContext.js#AuthProvider`);r(7272);let u={title:"Open Skill Nepal",description:"Empowering education through technology"};function RootLayout({children:e}){return o.jsx("html",{lang:"en",children:o.jsx("body",{children:o.jsx(i,{children:e})})})}},7272:()=>{}};