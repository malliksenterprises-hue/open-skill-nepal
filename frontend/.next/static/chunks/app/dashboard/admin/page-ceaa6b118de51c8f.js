(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{5453:function(e,s,l){Promise.resolve().then(l.bind(l,3964))},3964:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return AdminDashboard}});var a=l(7437),d=l(2265),i=l(420),t=l(8508),n=l(2601);function AdminDashboard(e){let{activeNav:s}=e,[l,r]=(0,d.useState)(null),[c,o]=(0,d.useState)(!0),{user:x}=(0,t.useAuth)();(0,d.useEffect)(()=>{fetchAdminData()},[s]);let fetchAdminData=async()=>{try{let e=localStorage.getItem("token"),s=await fetch("".concat(n.env.NEXT_PUBLIC_API_URL,"/api/dashboard/admin"),{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();r(e)}}catch(e){console.error("Error fetching admin data:",e)}finally{o(!1)}};return c?(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}):(0,a.jsx)(i.Z,{children:(()=>{if("dashboard"===s){var e,d,i,t;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage schools, teachers, and platform operations."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg mr-4",children:(0,a.jsx)("span",{className:"text-2xl",children:"⏳"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Schools"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==l?void 0:null===(e=l.stats)||void 0===e?void 0:e.pendingSchools)||0})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-green-100 rounded-lg mr-4",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFEB"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Schools"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==l?void 0:null===(d=l.stats)||void 0===d?void 0:d.activeSchools)||0})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg mr-4",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC68‍\uD83C\uDFEB"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==l?void 0:null===(i=l.stats)||void 0===i?void 0:i.totalTeachers)||0})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg mr-4",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFA5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Videos"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==l?void 0:null===(t=l.stats)||void 0===t?void 0:t.totalVideos)||0})]})]})})]}),(null==l?void 0:l.pendingSchools)&&l.pendingSchools.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b",children:(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Pending School Approvals"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:l.pendingSchools.map(e=>{var s,l;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-yellow-200 rounded-lg bg-yellow-50",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Code: ",e.code]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Admin: ",null===(s=e.admin)||void 0===s?void 0:s.name," (",null===(l=e.admin)||void 0===l?void 0:l.email,")"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Applied: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm transition-colors",children:"Approve"}),(0,a.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm transition-colors",children:"Reject"})]})]},e._id)})})})]}),(null==l?void 0:l.unassignedTeachers)&&l.unassignedTeachers.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b",children:(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Teachers Needing Assignment"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-3",children:l.unassignedTeachers.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.qualifications||"No qualifications specified"})]}),(0,a.jsx)("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded text-sm transition-colors",children:"Assign School"})]},e._id))})})]})]})}return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Admin Dashboard"}),(0,a.jsx)("p",{children:"Manage platform operations and school coordination."})]})})()})}}},function(e){e.O(0,[420,971,472,744],function(){return e(e.s=5453)}),_N_E=e.O()}]);